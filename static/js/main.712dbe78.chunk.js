(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{344:function(e,t,a){e.exports=a(596)},596:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(73),s=a.n(c),o=a(11),u=a.n(o),i=a(21),l=a(25),p=a(33),d=a(27),f=a(26),m=a(28),b=a(32),h=a(608),v=a(620),k=a(475),j=a(609),O=a(622),y=a(619),E=a(36),g=a.n(E),w=function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("api/projects");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("api/projects",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),T={getAll:w,update:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("".concat("api/projects","/").concat(t.id),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),createNew:x},S=function(e){return{type:"INIT_PROJECTS",projects:e}},C=function(e){return{type:"CHANGE_SELECTED",project:e}},A=function(e){return{type:"CREATE_PROJECT",project:e}},P=a(30),N={getAll:function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("api/tasks");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getAllFromProject:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("api/tasks","/project/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),createNew:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("api/tasks",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("".concat("api/tasks","/").concat(t.id),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.delete("".concat("api/tasks","/").concat(t.id));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},I=a(61),D=a(50),_=function(e){return{type:"INIT_TASKBOARD",taskboard:e}},B=function(e){return{type:"UPDATE_TASKBOARD_FILTER",filter:e}},R=function(e){return{type:"UPDATE_TASKBOARD_SORT_BY",sortBy:e}},F=function(e){return{type:"UPDATE_TASKBOARD_LAYOUT",layout:e}},K={getAll:function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("api/taskboards");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("api/taskboards","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),createNew:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("api/taskboards",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("".concat("api/taskboards","/").concat(t.id),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.delete("".concat("api/taskboards","/").concat(t.id));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},U=a(302),L=a.n(U),M=function(e,t){return function(){var a=Object(i.a)(u.a.mark(function a(n,r){var c,s,o;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t){a.next=7;break}return a.next=4,K.getOne(t);case 4:c=a.sent,a.next=8;break;case 7:c=r().taskboard;case 8:return s=Object(P.a)({},c.layout,Object(I.a)({},e.status.id,Object(D.a)(c.layout[e.status.id]).concat([e.id]))),a.next=11,K.update(Object(P.a)({},c,{layout:s}));case 11:o=a.sent,n(F(o.layout)),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.warn("Error when adding a task to a taskboard",a.t0);case 18:case"end":return a.stop()}},a,this,[[0,15]])}));return function(e,t){return a.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(i.a)(u.a.mark(function t(a,n){var r,c,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n().taskboard,c=Object(P.a)({},r.layout,Object(I.a)({},e.status.id,r.layout[e.status.id].filter(function(t){return t!==e.id}))),t.next=5,K.update(Object(P.a)({},r,{layout:c}));case 5:s=t.sent,a(F(s.layout)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.warn("Error when removing task from taskboard",t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e,a){return t.apply(this,arguments)}}()},Y=function(e,t){return function(){var a=Object(i.a)(u.a.mark(function a(n,r){var c,s;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=r().taskboard,s=H(c.layout,e,t),n(F(s)),a.next=6,K.update(Object(P.a)({},c,{layout:s}));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.warn("Error when updating a taskboard",a.t0);case 11:case"end":return a.stop()}},a,this,[[0,8]])}));return function(e,t){return a.apply(this,arguments)}}()},H=function(e,t,a){var n,r=a.oldStatus,c=a.newStatus,s=a.destinationIndex;if(r!==c)return Object(P.a)({},e,(n={},Object(I.a)(n,r,e[r].filter(function(e){return e!==t.id})),Object(I.a)(n,c,Object(D.a)(e[c].slice(0,s)).concat([t.id],Object(D.a)(e[c].slice(s)))),n));var o=e[r].indexOf(t.id);return Object(P.a)({},e,Object(I.a)({},r,L()(e[r],o,s)))},J=a(87),z=a(303),G=[],W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_TASKS":return t.tasks;case"CREATE_TASK":return Object(D.a)(e).concat([t.task]);case"UPDATE_TASK":var a=e.filter(function(e){return e.id!==t.task.id});return Object(D.a)(a).concat([t.task]);case"DELETE_TASK":return e.filter(function(e){return e.id!==t.task.id});default:return e}},q=[],Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_STATUSES":return t.statuses;default:return e}},X={all:[],selected:null},Z=function(e,t){return e.find(function(e){return e.id===t})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_PROJECTS":var a=t.projects,n=t.selected;return Object(P.a)({},e,{all:a,selected:n});case"CHANGE_SELECTED":return Object(P.a)({},e,{selected:t.project});case"CREATE_PROJECT":return Object(P.a)({},e,{all:Object(D.a)(e.all).concat([t.project])});case"UPDATE_PROJECT":var r=e.all.filter(function(e){return e.id!==t.project.id});return Object(P.a)({},e,{all:Object(D.a)(r).concat([t.project])});default:return e}},ee={filter:"",sortBy:"",layout:null},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_TASKBOARD":return Object(P.a)({},ee,t.taskboard);case"UPDATE_TASKBOARD_FILTER":return Object(P.a)({},e,{filter:t.filter});case"UPDATE_TASKBOARD_SORT_BY":return Object(P.a)({},e,{sortBy:t.sortBy});case"UPDATE_TASKBOARD_LAYOUT":return Object(P.a)({},e,{layout:t.layout});default:return e}},ae={includeFromTaskboards:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;switch((arguments.length>1?arguments[1]:void 0).type){case"TOGGLE_INCLUDE_FROM_TASKBOARDS":return Object(P.a)({},e,{includeFromTaskboards:!e.includeFromTaskboards});default:return e}},re=a(304),ce=a(305),se=Object(J.combineReducers)({tasks:W,statuses:Q,projects:$,taskboard:te,backlog:ne}),oe=Object(J.createStore)(se,Object(re.composeWithDevTools)(Object(J.applyMiddleware)(ce.a))),ue=function(e){return function(e){return e.length?e.reduce(function(e,t){return Object(P.a)({},e,Object(I.a)({},t.id,t))},{}):null}(e.tasks)},ie=function(e){var t=e.projects,a=t.all,n=t.selected;return Z(a,n)},le=function(e){return e.statuses},pe=oe,de=function(e){return{type:"INIT_TASKS",tasks:e}},fe=function(e){return{type:"CREATE_TASK",task:e}},me=function(e){return{type:"UPDATE_TASK",task:e}},be=function(e){return{type:"DELETE_TASK",task:e}},he=function(e){return function(){var t=Object(i.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.getAllFromProject(e);case 3:n=t.sent,a(de(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("Error when fetching tasks",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},ve=function(e,t){return function(){var a=Object(i.a)(u.a.mark(function a(n,r){var c,s;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=ie(r()),a.prev=1,a.next=4,N.createNew(Object(P.a)({},e,{taskboard:t,project:c.id}));case 4:return s=a.sent,a.prev=5,a.next=8,n(M(s,t));case 8:n(fe(s)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(5),N.deleteTask(s);case 14:a.next=19;break;case 16:a.prev=16,a.t1=a.catch(1),console.warn("Error when creating a task",a.t1);case 19:case"end":return a.stop()}},a,this,[[1,16],[5,11]])}));return function(e,t){return a.apply(this,arguments)}}()},ke=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;return function(){var n=Object(i.a)(u.a.mark(function n(r){var c;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!t){n.next=7;break}return n.next=4,N.update(e);case 4:n.t0=n.sent,n.next=8;break;case 7:n.t0=e;case 8:if(c=n.t0,r(me(c)),!a){n.next=21;break}return n.prev=11,n.next=14,r(Y(c,a));case 14:n.next=21;break;case 16:return n.prev=16,n.t1=n.catch(11),n.next=20,N.update(Object(P.a)({},c,{status:a.oldStatus}));case 20:r(me(Object(P.a)({},c,{status:a.oldStatus})));case 21:n.next=26;break;case 23:n.prev=23,n.t2=n.catch(0),console.warn("Error when updating a task",n.t2);case 26:case"end":return n.stop()}},n,this,[[0,23],[11,16]])}));return function(e){return n.apply(this,arguments)}}()},je=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var a=Object(i.a)(u.a.mark(function a(n){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.remove(e);case 3:if(!t){a.next=6;break}return a.next=6,n(V(e));case 6:n(be(e)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.warn("Error when removing a task",a.t0);case 12:case"end":return a.stop()}},a,this,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},Oe=a(615),ye=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedProject,a=e.projects,n=e.selectProject;return r.a.createElement(Oe.a,{className:"dropdown",item:!0,simple:!0,text:t?t.name:"Project"},r.a.createElement(Oe.a.Menu,null,a.map(function(e){return r.a.createElement(Oe.a.Item,{className:"dropdown-item",key:e.name,onClick:function(){return n(e.id)}},e.name)})))}}]),t}(r.a.PureComponent),Ee=Object(b.b)(function(e){return{projects:function(e){return e.projects.all}(e),selectedProject:ie(e)}},{selectProject:function(e){return function(){var t=Object(i.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{localStorage.setItem("selectedProject",JSON.stringify(e))}finally{a(C(e)),a(he(e))}case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(ye),ge=a(465),we=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).render=function(){var e=[{key:"Backlog",text:"Backlog",value:"Backlog",className:"nav-link",as:ge.a,to:"/backlog"},{key:"New task",text:"New task",value:"New task",className:"nav-link",as:ge.a,to:"/create"}];return r.a.createElement(Oe.a,{simple:!0,item:!0,text:"Tasks",options:e})},a}return Object(m.a)(t,e),t}(r.a.PureComponent),xe=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{fixed:"top",size:"huge"},r.a.createElement(h.a,null,r.a.createElement(y.a.Item,{name:"Info",className:"nav-link",as:j.a,exact:!0,to:"/",activeClassName:"active"}),r.a.createElement(we,null),r.a.createElement(y.a.Item,{name:"Taskboard",className:"nav-link",as:j.a,exact:!0,to:"/taskboard",activeClassName:"active"}),r.a.createElement(y.a.Item,{name:"Create project",className:"nav-link",as:j.a,exact:!0,to:"/new_project",activeClassName:"active"}),r.a.createElement(Ee,null),r.a.createElement(y.a.Item,{name:"Login",className:"nav-link",as:j.a,exact:!0,to:"/login",activeClassName:"active"}),r.a.createElement(y.a.Item,{name:"Register",className:"nav-link",as:j.a,exact:!0,to:"/new_user",activeClassName:"active"})))}}]),t}(r.a.PureComponent),Te=Object(O.a)(xe),Se=a(621),Ce=a(111),Ae=a(617),Pe=a(618),Ne=a(140),Ie=function(e){var t=e.editTask;return r.a.createElement("div",{style:{marginTop:5}},r.a.createElement(Pe.a,{icon:!0,basic:!0,size:"mini",onClick:t},r.a.createElement(Ne.a,{size:"large",name:"ellipsis horizontal"})))},De=a(153),_e=a.n(De),Be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).updateTask=function(){var e=a.props,t=e.task;(0,e.updateTask)(Object(P.a)({},t,{editMode:!0}),!1)},a.removeTask=function(){var e=a.props,t=e.task;(0,e.removeTask)(t)},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.task,a=e.hide;return r.a.createElement(Ae.a,{fluid:!0,style:{marginBottom:10,display:a?"none":""}},r.a.createElement(Ae.a.Content,null,r.a.createElement(Ae.a.Header,null,t.name),r.a.createElement(Ae.a.Content,null,r.a.createElement(Ae.a.Description,null,t.description)),r.a.createElement(Ae.a.Content,{extra:!0,style:{color:"gray"}},r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between"}},r.a.createElement("div",null,_e()(t.updatedAt).format("DD.MM.YYYY")),r.a.createElement(Ie,{removeTask:this.removeTask,editTask:this.updateTask})))))}}]),t}(r.a.PureComponent);Be.defaultProps={task:{}};var Re=Be,Fe=a(613),Ke=a(612),Ue=a(75),Le=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).getStatusDropdown=function(e){return e.map(function(e){return{key:e.name,text:e.name,value:e.id}})},a.getTaskboardDopdown=function(e){if(!e||!e.taskboards)return[];var t=e.taskboards.map(function(e){return{key:e.id,text:e.name,value:e.id}});return[{key:"backlog",text:"Backlog",value:"backlog"}].concat(Object(D.a)(t))},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.statuses,a=e.handleChange,n=e.setFieldValue,c=e.handleSubmit,s=e.onCancel,o=e.onDelete,u=e.values,i=e.project;return r.a.createElement(Ke.a,{onSubmit:c},r.a.createElement(Ke.a.Input,{className:"form-field",label:"Name",onChange:a,value:u.name,name:"name"}),r.a.createElement(Ke.a.Input,{className:"form-field",label:"Description",onChange:a,value:u.description,name:"description"}),r.a.createElement(Ke.a.Dropdown,{className:"form-field",selection:!0,label:"Status",options:this.getStatusDropdown(t),onChange:function(e,t){var a=t.name,r=t.value;return n(a,r)},name:"status",placeholder:"Status",defaultValue:u.status}),r.a.createElement(Ke.a.Dropdown,{className:"form-field",selection:!0,clearable:!0,label:"Taskboard",options:this.getTaskboardDopdown(i),onChange:function(e,t){var a=t.name,r=t.value;return n(a,r)},name:"taskboard",placeholder:"Taskboard",defaultValue:u.taskboard,disabled:u.backlog}),r.a.createElement(Pe.a,{type:"submit",color:"blue"},"Submit"),s&&r.a.createElement(Pe.a,{type:"button",className:"cancel",onClick:s},"Cancel"),o&&r.a.createElement(Pe.a,{type:"button",color:"red",className:"delete",style:{float:"right"},onClick:o},"Delete"))}}]),t}(r.a.PureComponent);Le.defaultProps={statuses:[]};var Me=Object(Ue.a)({mapPropsToValues:function(e){var t=e.initialValues,a=void 0===t?{}:t,n=a.name,r=void 0===n?"":n,c=a.description,s=void 0===c?"":c,o=a.status,u=void 0===o?{}:o,i=a.taskboard;return{name:r,description:s,taskboard:void 0===i?"":i,status:u.id||""}},handleSubmit:function(e,t){t.props.onSubmit(e)}})(Le),Ve=Object(b.b)(function(e){return{statuses:le(e),project:ie(e)}},{createTask:ve})(Me),Ye=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){var t=a.props,n=t.task,r=t.updateTask,c=null;n.status.id!==e.status&&(c={oldStatus:n.status.id,newStatus:e.status,destinationIndex:1/0}),r(Object(P.a)({},n,e,{project:n.project.id}),!0,c)},a.stopTaskEdit=function(e){var t=a.props.updateTask;return function(){return t(Object(P.a)({},e,{editMode:!1}),!1)}},a.removeTask=function(){var e=a.props,t=e.task;(0,e.removeTask)(t)},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.task;return r.a.createElement(Ve,{onSubmit:this.onSubmit,onCancel:this.stopTaskEdit(e),onDelete:this.removeTask,initialValues:e})}}]),t}(r.a.PureComponent),He=Object(b.b)(null,{updateTask:ke,removeTask:je})(Ye),Je=function(e){var t=e.task;return r.a.createElement(Fe.a,{open:t.editMode},r.a.createElement(Fe.a.Header,null,"Edit task"),r.a.createElement(Fe.a.Content,null,r.a.createElement(He,{task:t})))},ze=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tasks,a=e.column,n=e.filter,c=e.sortBy,s=e.removeTask,o=e.updateTask,u=e.hideItems,i=function(e,t,a){if(!e||!t)return[];var n=t.map(function(t){return e[t]});return a.filter&&(n=n.filter(function(e){return e.name.includes(a.filter)})),a.sortBy&&(n=Object(z.sortBy)(n,[a.sortBy])),n}(t,a,{filter:n,sortBy:c});return r.a.createElement("div",null,r.a.createElement("div",null,i.map(function(e,t){return e&&r.a.createElement("div",{className:"draggable-task",key:e.id},r.a.createElement(Ce.b,{key:e.id,draggableId:e.id,index:t},function(t,a){return r.a.createElement("div",Object.assign({key:e.id,ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.a.createElement(Re,{task:e,removeTask:s,updateTask:o,hide:a&&!a.isDragging&&u}),r.a.createElement(Je,{task:e}))}))})))}}]),t}(r.a.PureComponent);ze.defaultProps={tasks:[],status:{}};var Ge=Object(b.b)(function(e){return{selectedProject:ie(e),filter:e.taskboard.filter,sortBy:e.taskboard.sortBy}},{removeTask:je,updateTask:ke})(ze),We=function(){return r.a.createElement("div",{className:"placeholder",style:{width:200,height:100,position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto"}},r.a.createElement("h1",null,"Select project"))},qe=a(611),Qe=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filter,a=e.project,n=e.boardId,c=e.updateTaskboardFilter,s=e.updateTaskboardSortBy,o=e.loadTaskboard,u=a.taskboards.map(function(e){return{key:e.id,text:e.name,value:e.id}});return r.a.createElement("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-evenly"}},r.a.createElement(qe.a,{icon:"search",placeholder:"Filter...",value:t,onChange:function(e,t){return c(t.value)}}),r.a.createElement(Oe.a,{placeholder:"Sort by",clearable:!0,selection:!0,options:[{key:1,text:"Name",value:"name"}],onChange:function(e,t){return s(t.value)}}),r.a.createElement(Oe.a,{placeholder:"Select taskboard",clearable:!0,selection:!0,value:n,options:u,onChange:function(e,t){return o(t.value)}}))}}]),t}(r.a.PureComponent),Xe=Object(b.b)(function(e){return{boardId:e.taskboard.id,filter:e.taskboard.filter,project:ie(e)}},{updateTaskboardFilter:function(e){return B(e)},updateTaskboardSortBy:function(e){return R(e)},loadTaskboard:function(e){return function(){var t=Object(i.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}a(_(null)),t.next=15;break;case 4:return t.prev=4,t.next=7,K.getOne(e);case 7:n=t.sent,a(_(n)),localStorage.setItem("currentBoard",n.id),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.warn("Error when loading taskboard",t.t0);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(e){return t.apply(this,arguments)}}()}})(Qe),Ze=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.layout||a.props.initTaskboard()},a.onDragEnd=function(){var e=Object(i.a)(u.a.mark(function e(t){var n,r,c,s,o,i,l,p,d,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.tasks,c=n.taskboardHasFiltersActive,s=n.changeTaskStatus,t.destination){e.next=3;break}return e.abrupt("return");case 3:return o=t.source.droppableId,i=t.destination,l=i.droppableId,p=i.index,d=r[t.draggableId],f=Object(P.a)({},d,{status:l}),e.next=9,s(f,{oldStatus:o,newStatus:l,destinationIndex:c?1/0:p});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedProject,a=e.statuses,n=e.layout,c=e.tasks,s=e.taskboardHasFiltersActive;return t?r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Xe,null),r.a.createElement(Ce.a,{onDragEnd:this.onDragEnd},r.a.createElement(Se.a,{columns:a.length||1,style:{alignItems:"flex-start"},stackable:!0},a.map(function(e){return r.a.createElement(Se.a.Column,{key:e.name},r.a.createElement("h1",null,e.name),r.a.createElement(Ce.c,{droppableId:e.id},function(t,a){return r.a.createElement("div",{ref:t.innerRef,style:{minHeight:"100%",padding:5,backgroundColor:a&&a.isDraggingOver?"lightsalmon":""}},r.a.createElement(Ge,{key:e.name,tasks:c,column:n?n[e.id]:[],status:e,hideItems:s&&a.isDraggingOver}),t.placeholder)}))})))):r.a.createElement(We,null)}}]),t}(r.a.PureComponent);Ze.defaultProps={statuses:[],taskboard:{}};var $e=Object(b.b)(function(e){return{tasks:ue(e),statuses:le(e),selectedProject:ie(e),layout:function(e){return e.taskboard.layout}(e),taskboardHasFiltersActive:function(e){return e.taskboard.filter||e.taskboard.sortBy}(e)}},{changeTaskStatus:function(e,t){return function(){var a=Object(i.a)(u.a.mark(function a(n){var r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:try{n(ke(e));try{n(Y(e,t))}catch(c){r=Object(P.a)({},e,{status:t.oldStatus}),N.update(r),me(r)}}catch(c){console.warn("Error when changing task status",c)}case 1:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},initTaskboard:function(){return function(){var e=Object(i.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("currentBoard"),e.next=4,K.getOne(a);case 4:n=e.sent,t(_(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("Error when initializing taskboard",e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}})(Ze),et=a(614),tt=a(297),at=a(599),nt=a(598),rt=a(592),ct=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedProject,a=e.tasksByStatus,n=e.tasks;if(!t)return r.a.createElement(We,null);var c=a.map(function(e){return{name:e.status.name,value:e.tasks.length,color:e.status.color}});return r.a.createElement("div",{className:"project-info"},r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement("h2",null,"Name: ",t.name),r.a.createElement("h3",null,"Total tasks: ",n.length),a.map(function(e){return r.a.createElement("h3",{className:"status-info",key:e.status.name},e.status.name,": ",e.tasks.length)})),r.a.createElement(et.a,{width:250,height:250,style:{float:"right"}},r.a.createElement(tt.a,null),r.a.createElement(at.a,null),r.a.createElement(nt.a,{data:c,dataKey:"value",nameKey:"name",outerRadius:100},c.map(function(e){return r.a.createElement(rt.a,{key:e.name,fill:e.color})}))))}}]),t}(r.a.PureComponent),st=Object(b.b)(function(e){return{tasksByStatus:function(e){return function(e,t){return t.map(function(t){return{status:t,tasks:e.filter(function(e){return e.status.id===t.id})}})}(e.tasks,e.statuses)}(e),selectedProject:ie(e),tasks:function(e){return e.tasks}(e)}},null)(ct),ot={getAll:function(){var e=Object(i.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/statuses");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},ut=function(e){return{type:"INIT_STATUSES",statuses:e}},it=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){var t=a.props,n=t.createTask,r=t.history;n(e,e.taskboard),r.push("/")},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.selectedProject?r.a.createElement(Ve,{onSubmit:this.onSubmit}):r.a.createElement(We,null)}}]),t}(r.a.PureComponent),lt=Object(b.b)(function(e){return{selectedProject:ie(e)}},{createTask:ve})(it),pt=a(616),dt=a(610),ft=function(){return{type:"TOGGLE_INCLUDE_FROM_TASKBOARDS"}},mt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.includeFromTaskboards,a=e.toggleIncludeFromTaskboards;return r.a.createElement("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-evenly"}},r.a.createElement(dt.a,{toggle:!0,label:"Include tasks from taskboards.",style:{alignSelf:"center"},checked:t,onChange:a}),r.a.createElement(qe.a,{icon:"search",placeholder:"Filter..."}),r.a.createElement(Oe.a,{placeholder:"Sort by",clearable:!0,selection:!0,options:[{key:1,text:"Name",value:"name"}]}))}}]),t}(r.a.PureComponent),bt=Object(b.b)(function(e){return{boardId:e.taskboard.id,filter:e.taskboard.filter,project:ie(e),includeFromTaskboards:e.backlog.includeFromTaskboards}},{toggleIncludeFromTaskboards:function(){return ft()}})(mt),ht=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).render=function(){var e=a.props,t=e.tasks,n=e.includeFromTaskboards,c=n?t:t.filter(function(e){return!e.taskboard});return console.log(n),r.a.createElement("div",null,r.a.createElement(bt,null),r.a.createElement(pt.a,{celled:!0,relaxed:!0},c.map(function(e){return r.a.createElement(pt.a.Item,{key:e.id},r.a.createElement(pt.a.Header,{as:"h3"},e.name),r.a.createElement(pt.a.Description,null,e.description),r.a.createElement(pt.a.Description,null,"Updated at: ".concat(_e()(e.updatedAt).format("DD.MM.YYYY"))))})))},a}return Object(m.a)(t,e),t}(r.a.PureComponent),vt=Object(b.b)(function(e){return{tasks:e.tasks,includeFromTaskboards:e.backlog.includeFromTaskboards}},null)(ht),kt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).render=function(){var e=a.props,t=e.values,n=e.handleSubmit,c=e.handleChange;return r.a.createElement(Ke.a,{onSubmit:n},r.a.createElement(Ke.a.Input,{className:"form-field",label:"Name",onChange:c,value:t.name,name:"name"}),r.a.createElement(Pe.a,{type:"submit",color:"blue"},"Submit"))},a}return Object(m.a)(t,e),t}(r.a.PureComponent),jt=Object(Ue.a)({mapPropsToValues:function(e){var t=e.initialValues,a=(void 0===t?{}:t).name;return{name:void 0===a?"":a}},handleSubmit:function(e,t){t.props.onSubmit(e)}})(kt),Ot=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).render=function(){var e=a.props,t=e.values,n=e.handleSubmit,c=e.handleChange;return r.a.createElement(Ke.a,{onSubmit:n},r.a.createElement(Ke.a.Input,{className:"form-field",label:"Name",onChange:c,value:t.name,name:"name"}),r.a.createElement(Ke.a.Input,{className:"form-field",label:"Username",onChange:c,value:t.username,name:"username"}),r.a.createElement(Ke.a.Input,{id:"signup-password-field_",className:"form-field",label:"Password",onChange:c,value:t.password,name:"password",type:"password",autoComplete:"new-password"}),r.a.createElement(Pe.a,{type:"submit",color:"blue"},"Submit"))},a}return Object(m.a)(t,e),t}(r.a.PureComponent),yt=Object(Ue.a)({mapPropsToValues:function(e){var t=e.initialValues,a=void 0===t?{}:t,n=a.name,r=void 0===n?"":n,c=a.username,s=void 0===c?"":c,o=a.password;return{name:r,username:s,password:void 0===o?"":o}},handleSubmit:function(e,t){t.props.onSubmit(e)}})(Ot),Et={createNew:function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},gt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).render=function(){var e=a.props,t=e.values,n=e.handleSubmit,c=e.handleChange;return r.a.createElement(Ke.a,{onSubmit:n},r.a.createElement(Ke.a.Input,{className:"form-field",label:"Username",onChange:c,value:t.username,name:"username"}),r.a.createElement(Ke.a.Input,{id:"signup-password-field_",className:"form-field",label:"Password",onChange:c,value:t.password,name:"password",type:"password",autoComplete:"new-password"}),r.a.createElement(Pe.a,{type:"submit",color:"blue"},"Submit"))},a}return Object(m.a)(t,e),t}(r.a.PureComponent),wt=Object(Ue.a)({mapPropsToValues:function(e){var t=e.initialValues,a=void 0===t?{}:t,n=a.username,r=void 0===n?"":n,c=a.password;return{username:r,password:void 0===c?"":c}},handleSubmit:function(e,t){t.props.onSubmit(e)}})(gt),xt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(i.a)(u.a.mark(function e(){var t,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.initProjects,r=t.initStatuses,e.next=3,Promise.all([r(),n()]);case 3:case"end":return e.stop()}},e,this)})),a.projectFormOnSubmit=function(e){return function(t){(0,a.props.createProject)(t),e.push("/")}},a.userFormOnSubmit=function(e){return function(t){(0,a.props.createUser)(t),e.push("/")}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(v.a,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Te,null),r.a.createElement(h.a,{style:{paddingTop:60,height:"100%"}},r.a.createElement(k.a,{exact:!0,path:"/",render:function(){return r.a.createElement(st,null)}}),r.a.createElement(k.a,{exact:!0,path:"/backlog",render:function(){return r.a.createElement(vt,null)}}),r.a.createElement(k.a,{exact:!0,path:"/taskboard",render:function(){return r.a.createElement($e,null)}}),r.a.createElement(k.a,{exact:!0,path:"/new_project",render:function(t){var a=t.history;return r.a.createElement(jt,{onSubmit:e.projectFormOnSubmit(a)})}}),r.a.createElement(k.a,{exact:!0,path:"/create",render:function(e){var t=e.history;return r.a.createElement(lt,{history:t})}}),r.a.createElement(k.a,{exact:!0,path:"/new_user",render:function(t){var a=t.history;return r.a.createElement(yt,{onSubmit:e.userFormOnSubmit(a)})}}),r.a.createElement(k.a,{exact:!0,path:"/login",render:function(e){e.history;return r.a.createElement(wt,null)}}))))}}]),t}(n.PureComponent),Tt=Object(b.b)(function(e){return{selectedProject:e.projects.selected}},{initTasks:he,initStatuses:function(){return function(){var e=Object(i.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot.getAll();case 3:a=e.sent,t(ut(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error when initializing statuses",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},initProjects:function(){var e;try{e=JSON.parse(localStorage.getItem("selectedProject"))}catch(t){e=null}return function(){var t=Object(i.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.getAll();case 3:n=t.sent,a(S(n)),e&&(a(C(e)),a(he(e))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error when initializing projects",t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},createProject:function(e){return function(){var t=Object(i.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.createNew(e);case 3:n=t.sent,a(A(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error when creating a project",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},createUser:function(e){return function(){var t=Object(i.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{Et.createNew(e)}catch(a){console.log("Error when creating a user",a)}case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(xt),St=(a(593),function(){s.a.render(r.a.createElement(b.a,{store:pe},r.a.createElement(Tt,null)),document.getElementById("root"))});St(),pe.subscribe(St)}},[[344,2,1]]]);
//# sourceMappingURL=main.712dbe78.chunk.js.map